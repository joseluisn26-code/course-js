<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicios Logica</title>
</head>

<body>
    <script>
        function countCaracter(car) {
            (typeof car === "string") ? console.log(`The number of characters are ${car.length}`):
                console.log(`Please enter a text string `);
        }

        function cutCaracter(car, n) {
            (typeof car === "string") ? console.log(`${car.slice(0,n)}`):
                console.log(`Please enter a text string`);
        }

        function separateCaracter(car, n) {
            return (typeof car === "string") ? console.log(`${car.split(n)}`) :
                console.log(`Please enter a text string`);
        }

        function repeatText(text, n) {
            return (typeof text === "string") ? console.log(`${text.repeat(n)}`) :
                console.log(`Please enter a text string`);
        }

        function reverseText(car) {
            return (typeof car === "string") ? console.log(`${car.split("").reverse().join("")}`) :
                console.log(`Please enter a text string`);
        }

        function wordCount(car, carWanted) {
            let count = 0,
                pos = 0;
            while ((pos = car.indexOf(carWanted, pos)) !== -1) {
                count++;
                pos += carWanted.length;
            }
            return count;
        }

        function palindrome(str) {
            let re = /[\W_]/g;
            let lowRegStr = str.toLowerCase().replace(re, '');
            let reverseStr = lowRegStr.split('').reverse().join('');
            return reverseStr === lowRegStr;
        }

        function removeCaracter(cadena, patron) {
            let resultado = cadena.split(patron).join("");
            console.log(resultado);
        }

        function randomNumber() {
            return Math.floor(Math.random() * (600 - 501)) + 501;
        }

        function factorialNumber(num) {
            if (num < 0)
                return -1;
            else if (num == 0)
                return 1;
            else {
                return (num * factorialNumber(num - 1));
            }
        }

        function esPrimeNumber(num) {
            if (num == 0 || num == 1 || num == 4) return false;
            for (let i = 2; i < num; i++) {
                if (num % i == 0) {
                    return false;
                }
            };
            return true;
        }

        const capicua = (numero = 0) => {
            if (!numero) return console.warn("I do not enter a number");
            if (typeof numero !== "number") return console.error(`The value ${numero} entered is not a number`);
            numero = numero.toString();
            let reverseNumber = numero.split("").reverse().join("");

            return (numero === reverseNumber) ?
                console.info(`if capicua, original number ${numero}, reverse number ${reverseNumber}`) :
                console.info(`not capicua, original number ${numero}, reverse number ${reverseNumber}`)
        }

        const evenNumber = (numero = undefined) => {
            if (numero === undefined) return console.warn("I do not enter a number");
            if (typeof numero !== "number") return console.error(`The value ${numero} entered is not a number`);
            if (numero === 0) return console.error("the number cannot be zero");
            if (numero === 1) return console.error("the number cannot be one");
            if (Math.sign(numero) === -1) return console.error("the number cannot be negative");

            let divisible = false;

            for (let i = 2; i < numero; i++) {
                if ((numero % i) === 0) {
                    divisible = true;
                    break;
                }
            }
            return (divisible) ? console.log(`The number ${numero} is not prime`) :
                console.log(`The number ${numero} is prime`)
        }

        const convertDegrees = (grades = undefined, unity = undefined) => {
            if (grades === undefined) return console.warn("you did not enter grades to convert");
            if (typeof grades !== "number") return console.error(`The value ${numero} entered is not a number`);
            if (unity === undefined) return console.error("you did not enter the type of grades to convert");
            if (typeof unity !== "string") return console.error(`The valus ${grades} enter, is not a text string`);
            if (unity.length !== 1 || !/(C|F)/.test(unity)) return console.warn("unrecognized unit value");

            if (unity === "C") {
                return console.info(`${grades}째C= ${Math.round((grades *(9/5)) +32)}째F`)
            } else if (unity === "F") {
                return console.info(`${grades}째F= ${Math.round((grades -32) *(5/9))}째C`)
            } else {
                return console.error("The type of grades to be converted is not valid")
            }

        }

        const aplicateDiscount = (amount = undefined,discount =0) =>{
            if (amount === undefined) return console.warn("you did not enter the amount");
            if (typeof amount !== "number") return console.error(`The value ${numero} entered is not a number`);
            if (amount === 0) return console.error("the amount cannot be zero");
            if (typeof discount !== "number") return console.error(`The valus ${grades} enter, is not a number`);
            if (Math.sign(discount)=== -1) return console.error("the descount cannot be negative");

            return console.info(`${amount} -${discount}% = $${amount- ((amount*discount)/100)}`)
        }

        const calculateYears = (fecha = undefined) =>{
            if(fecha === undefined) return console.warn("you did not enter a date");
            if(!(fecha instanceof Date)) return console.error("the value you entered is not a date");

            let todayLessDate = new Date().getTime() - fecha.getTime(),
            yearsEnMs = 1000 * 60 * 60 * 24 * 365,
            humanYears =Math.floor(todayLessDate/yearsEnMs);

            return (Math.sign(humanYears) === -1)
            ? console.info(`Missing ${Math.abs(humanYears)} years to go until the ${fecha.getFullYear()}.`)
            : (Math.sign(humanYears) === 1)
            ? console.info(`it has been ${humanYears} years, since ${fecha.getFullYear()}.`)
            : console.info(`We are in the current year ${fecha.getFullYear()}`)
        }

        const validateEmail = (email = "") =>{
            if(!email) return console.warn("you did not enter an email");
            if(typeof email !== "string") return console.error(`The value ${email} enter, is not a text string`);

            let expReg =/[a-z0-9]+(\.[a-z0-9]+)*@[a-z0-9]+(\.[a-z0-9]+)*(\.[a-z0-9]{2,15})/i.test(email);
            return (expReg) ? console.info(`"${email}",is a valid email`)
            :  console.warn(`"${email}",Not is a valid email`)
        }

        const arrayMinMax = (arr = undefined) =>{
            if(arr === undefined) return console.warn("you did not a array of numbers");
            if(!(arr instanceof Array)) return console.error("The value you entered is not an array");
            if(arr.length === 0) return console.error("The array is empty");

            for(let num of arr){
                if(typeof num !== "number") return console.error(`the value ${num} enter is not a number`);
            }
            return console.info(`Array original: ${arr}\ngreat value:${Math.max(...arr)},\nsmaller value:${Math.min(...arr)}`);
        }

        const sortArray = (arr = undefined) =>{
            if(arr === undefined) return console.warn("you did not a array of numbers");
            if(!(arr instanceof Array)) return console.error("The value you entered is not an array");
            if(arr.length === 0) return console.error("The array is empty");

            for(let num of arr){
                if(typeof num !== "number") return console.error(`the value ${num} enter is not a number`);
            }
            return console.info({
                arr,
                asc: arr.map(el => el).sort(),
                desc: arr.map(el => el).sort().reverse()
            });
        }

        const removeDuplicate = (arr = undefined) =>{
            if(arr === undefined) return console.warn("you did not a array of numbers");
            if(!(arr instanceof Array)) return console.error("The value you entered is not an array");
            if(arr.length === 0) return console.error("The array is empty");
            if(arr.length === 1) return console.error("The array must have at least 2 elements");

            // return console.info({
            //     Original: arr,
            //     noDuplicates: arr.filter((value,index,self) => self.indexOf(value) === index)
            // });
            return console.info({
                original: arr,
                noDuplicates: [... new Set(arr)]
            });
        }
        // promedio
        const average = (arr = undefined) =>{
            if(arr === undefined) return console.warn("you did not a array of numbers");
            if(!(arr instanceof Array)) return console.error("The value you entered is not an array");
            if(arr.length === 0) return console.error("The array is empty");
            
            for(let num of arr){
                if(typeof num !== "number") return console.error(`the value ${num} enter is not a number`);
            }
            
            return console.info(
               arr.reduce((total, num, index, arr) =>{
                total +=num;
                if(index === arr.length-1){
                    return `The average of ${arr.join(" + ")} is ${total / arr.length}`;
                }else{
                    return total;
                }
               })
            );
        }

        countCaracter("ellaera");
        cutCaracter("hipopotamo", 5);
        separateCaracter('hola que tal', ' ');
        repeatText("Hola como estas ", 5);
        reverseText("Hola como estas");
        console.log(wordCount("hola que hace hola hola hola y poruqe me dices hola", "hola"));
        console.log(palindrome("salas"));
        console.log(capicua(2002));
        removeCaracter("xyz1, xyz2, xyz3, xyz4, xyz5", "xyz");
        console.log(randomNumber());
        console.log(factorialNumber(5));
        evenNumber(4);
        convertDegrees(100, "C");
        convertDegrees(100, "F");
        aplicateDiscount(1000,25);

        calculateYears();
        calculateYears(new Date(1982,3,26));
        calculateYears(new Date(1985,11,10));
        validateEmail("jonovoan@poligran.edu.co");
        arrayMinMax([1,5,9,17,0,58,-4]);
        sortArray([4,6,1,3,9]);
        removeDuplicate([2,3,2,5,"x","y","x"]);
        average([1,2,3,4,5,6,7,8,9,0]);

    </script>
</body>

</html>